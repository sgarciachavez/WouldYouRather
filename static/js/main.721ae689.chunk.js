(this.webpackJsonpwouldyourather=this.webpackJsonpwouldyourather||[]).push([[0],{58:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},67:function(e,t,a){e.exports=a(83)},73:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);a(68);var n=a(0),r=a.n(n),o=a(25),s=a.n(o),c=(a(73),a(7)),i=a(8),l=a(10),u=a(9),m=a(11),d=a(35),p=a(12),h=a(3),v={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://image.flaticon.com/icons/svg/145/145847.svg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://image.flaticon.com/icons/svg/145/145843.svg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://image.flaticon.com/icons/svg/145/145848.svg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},b={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function f(){return new Promise((function(e,t){setTimeout((function(){return e(Object(h.a)({},v))}),1e3)}))}function E(){return new Promise((function(e,t){setTimeout((function(){return e(Object(h.a)({},b))}),1e3)}))}function O(e){return new Promise((function(t,a){var n=e.author,r=function(e){var t=e.optionOneText,a=e.optionTwoText,n=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:n,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:a}}}(e);setTimeout((function(){b=Object(h.a)(Object(h.a)({},b),{},Object(p.a)({},r.id,r)),v=Object(h.a)(Object(h.a)({},v),{},Object(p.a)({},n,Object(h.a)(Object(h.a)({},v[n]),{},{questions:v[n].questions.concat([r.id])}))),t(r)}),1e3)}))}var j={urls:["https://image.flaticon.com/icons/svg/145/145842.svg","https://image.flaticon.com/icons/svg/145/145843.svg","https://image.flaticon.com/icons/svg/145/145844.svg","https://image.flaticon.com/icons/svg/145/145845.svg","https://image.flaticon.com/icons/svg/145/145846.svg","https://image.flaticon.com/icons/svg/145/145847.svg","https://image.flaticon.com/icons/svg/145/145848.svg","https://image.flaticon.com/icons/svg/145/145849.svg","https://image.flaticon.com/icons/svg/145/145850.svg"]};function g(e){return function(e){var t=e.authedUser,a=e.qid,n=e.answer;return new Promise((function(e,r){setTimeout((function(){v=Object(h.a)(Object(h.a)({},v),{},Object(p.a)({},t,Object(h.a)(Object(h.a)({},v[t]),{},{answers:Object(h.a)(Object(h.a)({},v[t].answers),{},Object(p.a)({},a,n))}))),b=Object(h.a)(Object(h.a)({},b),{},Object(p.a)({},a,Object(h.a)(Object(h.a)({},b[a]),{},Object(p.a)({},n,Object(h.a)(Object(h.a)({},b[a][n]),{},{votes:b[a][n].votes.concat([t])}))))),e()}),500)}))}(e)}function y(e){return function(e){return new Promise((function(t,a){setTimeout((function(){v=Object(h.a)(Object(h.a)({},v),{},Object(p.a)({},e.id,e)),t(e)}),1e3)}))}(e)}function w(e){return{type:"RECEIVE_USERS",users:e}}function q(e){return{type:"SAVE_USER_ANSWER",authedUser:e.authedUser,qid:e.qid,answer:e.answer}}function N(e){return{type:"NEW_QUESTION",question:e}}function k(e){return{type:"NEW_USER",user:e}}function U(e){return{type:"SAVE_ANSWER",authedUser:e.authedUser,qid:e.qid,answer:e.answer}}function S(e){return{type:"ADD_QUESTION",question:e}}function C(e){return{type:"SET_PATH",path:e}}var T=a(22);function x(){return function(e){return e(Object(T.showLoading)()),Promise.all([f(),E()]).then((function(e){var t=Object(d.a)(e,2);return{users:t[0],questions:t[1]}})).then((function(t){var a=t.users,n=t.questions;e(w(a)),e(function(e){return{type:"RECEIVE_QUESTIONS",questions:e}}(n)),e(Object(T.hideLoading)())}))}}function A(){return function(e){return Promise.all([f()]).then((function(e){return{users:Object(d.a)(e,1)[0]}})).then((function(t){var a=t.users;e(w(a))}))}}function _(){return function(e){return Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(h.a)({},j))}),1e3)}))]).then((function(e){return{avatars:Object(d.a)(e,1)[0]}})).then((function(t){var a=t.avatars;e(function(e){return{type:"RECEIVE_AVATARS",avatars:e}}(a))}))}}function R(e){return function(t){t({type:"SET_AUTHED_USER",id:e})}}function P(e){return function(t){t(C(e))}}function L(){return function(e){e({type:"LOGOUT"}),e(C(null))}}function I(e){return function(t){return t(U(e)),t(q(e)),g(e).catch((function(a){console.warn("Error in handleSaveAnswer: ",a),t(U(e)),t(q(e)),alert("There was an error saving your answer.  Try again")}))}}function z(e){return function(t){return t(Object(T.showLoading)()),(a=e,O(a)).then((function(e){t(S(e)),t(N(e)),t(Object(T.hideLoading)())})).catch((function(a){console.warn("Error in handleAddQuestion",a),t(S(e)),t(N(e)),alert("There was an error saving your question. Try again")}));var a}}function D(e){return function(t){return t(k(e)),y(e).catch((function(a){console.warn("Error in adding new user"),t(k(e)),alert("There was an error saving the new user.  Try again")}))}}var W=a(13),V=a(14),G=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("h1",{className:"bold-purple"},"Would You Rather App!")}}]),a}(n.Component),Q=a(29),B=a(56),M=a(21),Y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.users,n=e.type,o=new Date(t.timestamp);return null===t?null:r.a.createElement("div",{className:"question-item-container"},r.a.createElement("div",{className:"question-header"},a[t.author].name," ",r.a.createElement("span",{className:"bold-purple"},"asked on: "),o.toDateString()),r.a.createElement("div",{className:"question-avatar"},r.a.createElement("img",{className:"avatar",src:a[t.author].avatarURL,alt:a[t.author].name})),r.a.createElement("div",{className:"question-main"},r.a.createElement("p",{className:"bold-purple"},"Would you rather"),"...",t.optionOne.text,"... ",r.a.createElement("span",{className:"bold-purple"},"or")," ... ?"),r.a.createElement("div",{className:"question-button"},"answered"===n?r.a.createElement(W.b,{to:"/results/".concat(t.id)},r.a.createElement(M.a,{type:"button",variant:"primary",size:"sm",block:!0},"View Poll")):r.a.createElement(W.b,{to:"/questions/".concat(t.id)},r.a.createElement(M.a,{type:"button",size:"sm",variant:"primary",block:!0},"View Poll"))))}}]),a}(n.Component),H=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"unanswered"===this.props.type?r.a.createElement("p",{className:"bold-purple"},r.a.createElement("br",null),"You have answered all available questions.",r.a.createElement("br",null),"Go create more questions!"):r.a.createElement("p",{className:"bold-purple"},r.a.createElement("br",null),"You have not answered any questions.",r.a.createElement("br",null),'Go to the "Unanswered" tab and answer some questions!'))}}]),a}(n.Component),F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.users,a=e.questions,n=e.keys,o=e.type;return r.a.createElement("div",null,0===n.length&&r.a.createElement(H,{type:o}),n.map((function(e){return r.a.createElement(Y,{key:e,question:a[e],users:t,type:o})})))}}]),a}(n.Component);var J=Object(m.connect)((function(e,t){var a,n=e.authedUser,r=e.users,o=e.questions,s=t.type,c=Object.keys(r[n].answers),i=Object.entries(o).sort((function(e,t){return t[1].timestamp-e[1].timestamp})),l=[],u=[],m=Object(B.a)(i);try{for(m.s();!(a=m.n()).done;){var d=a.value;c.includes(d[0])?l.push(d[0]):u.push(d[0])}}catch(p){m.e(p)}finally{m.f()}return{users:r,questions:o,keys:"answered"===s?l:u,type:s}}))(F),K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={type:"unanswered"},e.handleSelect=function(t){e.setState((function(){return{type:t}}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"pills-container"},r.a.createElement(Q.a,{variant:"pills",defaultActiveKey:"unanswered",className:"justify-content-center",onSelect:this.handleSelect},r.a.createElement(Q.a.Item,null,r.a.createElement(Q.a.Link,{eventKey:"unanswered"},"Unanswered Questions")),r.a.createElement(Q.a.Item,null,r.a.createElement(Q.a.Link,{eventKey:"answered"},"Answered Questions"))),r.a.createElement(J,{type:this.state.type}))}}]),a}(n.Component),$=a(17),X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={optionone:"",optiontwo:""},e.handleSubmit=function(t){t.preventDefault();var a=e.props,n=a.dispatch,r=a.authedUser,o=e.state;n(z({optionOneText:o.optionone,optionTwoText:o.optiontwo,author:r})),e.props.history.push("/home")},e.handleChange=function(t){var a=t.target.id,n=t.target.value;e.setState((function(){return Object(p.a)({},a,n)}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"newquestion-container"},r.a.createElement("div",{className:"question-header"},r.a.createElement("h3",{className:"bold-purple"},"Create New Question")),r.a.createElement($.a,{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"question-main"},r.a.createElement("p",{className:"bold-purple"},"Would you rather..."),r.a.createElement($.a.Group,null,r.a.createElement($.a.Control,{required:!0,id:"optionone",type:"input",placeholder:"Enter option one",onChange:this.handleChange})),r.a.createElement("hr",null),r.a.createElement($.a.Group,null,r.a.createElement($.a.Control,{required:!0,id:"optiontwo",type:"input",placeholder:"Enter option two",onChange:this.handleChange}))),r.a.createElement("div",{className:"question-button"},r.a.createElement(M.a,{className:"not-allowed",variant:"primary",type:"submit"},"Submit"))))}}]),a}(n.Component);var Z=Object(m.connect)((function(e){return{authedUser:e.authedUser}}))(X),ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.users,t=Object.entries(e).sort((function(e,t){return Object.keys(t[1].answers).length+Object.keys(t[1].questions).length-(Object.keys(e[1].answers).length+Object.keys(e[1].questions).length)}));return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{key:e[1].id,className:"score-item-container"},r.a.createElement("div",{className:"question-avatar"},r.a.createElement("img",{className:"avatar",src:e[1].avatarURL,alt:e[1].name})),r.a.createElement("div",{className:"question-header"},e[1].name),r.a.createElement("div",{className:"question-main"},r.a.createElement("div",null,r.a.createElement("p",{className:"alignleft"},"Answered questions"),r.a.createElement("p",{className:"alignright"},Object.keys(e[1].answers).length)),r.a.createElement("div",null,r.a.createElement("p",{className:"alignleft"},"Created question"),r.a.createElement("p",{className:"alignright"},Object.keys(e[1].questions).length))),r.a.createElement("div",{className:"score-container"},r.a.createElement("div",{className:"score"},r.a.createElement("div",{className:"score-header"},"Score"),r.a.createElement("div",{className:"circle"},Object.keys(e[1].questions).length+Object.keys(e[1].answers).length))))})))}}]),a}(n.Component);var te=Object(m.connect)((function(e){return{users:e.users}}))(ee),ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authedUser,a=e.users,n=a[t].name,o=n.substring(0,n.indexOf(" "));return r.a.createElement("div",{className:"user"},"Hello, ",o,r.a.createElement("img",{className:"user-avatar",src:a[t].avatarURL,alt:a[t].name}))}}]),a}(n.Component);var ne=Object(m.connect)((function(e){return{authedUser:e.authedUser,users:e.users}}))(ae),re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleOnClick=function(t){e.props.dispatch(L())},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"nav-bar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(W.c,{to:"/home",exact:!0,activeClassName:"active"},"Home")),r.a.createElement("li",null,r.a.createElement(W.c,{to:"/add",exact:!0,activeClassName:"active"},"New Question")),r.a.createElement("li",null,r.a.createElement(W.c,{to:"/leaderboard",exact:!0,activeClassName:"active"},"Leader Board")),r.a.createElement("li",null,r.a.createElement(ne,null)),r.a.createElement("li",{className:"float-right"},r.a.createElement(W.c,{to:"/",exact:!0,activeClassName:"active",onClick:this.handleOnClick},"Logout"))))}}]),a}(n.Component),oe=Object(m.connect)()(re),se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={option:null},e.handleOnSubmit=function(){var t=e.props,a=t.dispatch,n=t.question;a(I({authedUser:t.authedUser,qid:n.id,answer:e.state.option}))},e.handleOnChange=function(t){var a=t.target.value;e.setState((function(){return{option:a}}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.author;return null===t||null===a?null:r.a.createElement("div",{className:"question-item-container"},r.a.createElement("div",{className:"question-header"},a.name,r.a.createElement("span",{className:"bold-purple"}," asked...")),r.a.createElement("div",{className:"question-avatar"},r.a.createElement("img",{className:"avatar",src:a.avatarURL,alt:a.name})),r.a.createElement("div",{className:"question-main"},r.a.createElement("p",{className:"bold-purple"},"Would you rather..."),r.a.createElement("form",null,r.a.createElement("label",{className:"radio-container"},t.optionOne.text,r.a.createElement("input",{type:"radio",name:"poll",value:"optionOne",onChange:this.handleOnChange}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"radio-container"},t.optionTwo.text,r.a.createElement("input",{type:"radio",name:"poll",value:"optionTwo",onChange:this.handleOnChange}),r.a.createElement("span",{className:"checkmark"})))),r.a.createElement("div",{className:"question-button"},r.a.createElement(W.b,{to:"/home",onClick:this.handleOnSubmit},r.a.createElement(M.a,{type:"button",variant:"primary",size:"sm",block:!0,disabled:!this.state.option,className:"not-allowed"},"Submit"))))}}]),a}(n.Component);var ce=Object(m.connect)((function(e,t){var a=e.authedUser,n=e.users,r=e.questions,o=(e.userPath,t.match.params.question_id),s=r?r[o]:null;return{question:s,authedUser:a,author:n&&s?n[s.author]:null}}))(se),ie=a(50),le=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.authedUser,n=e.users,o=t.optionOne.votes.includes(a)?"optionOne":"optionTwo",s=t.optionOne.votes.length,c=t.optionTwo.votes.length,i=s+c,l=Math.floor(s/i*100),u=Math.floor(c/i*100);return r.a.createElement("div",null,t?r.a.createElement("div",{className:"results-item-container"},r.a.createElement("div",{className:"question-header"},r.a.createElement("span",{className:"bold-purple"},"Asked by  "),n[t.author].name),r.a.createElement("div",{className:"question-avatar"},r.a.createElement("img",{className:"avatar",src:n[t.author].avatarURL,alt:n[t.author].name})),r.a.createElement("div",{className:"question-main"},r.a.createElement("p",{className:"bold-purple"},"Results"),r.a.createElement("div",{className:"optionOne"===o?"result-item-select":"result-item"},"optionOne"===o&&r.a.createElement("div",{className:"topright"},"Your vote!"),r.a.createElement("p",null,"Would you rather ",t.optionOne.text,"?"),r.a.createElement(ie.a,{now:l,label:"".concat(l,"%")}),s," out of ",i),r.a.createElement("div",{className:"optionTwo"===o?"result-item-select":"result-item"},"optionTwo"===o&&r.a.createElement("div",{className:"topright"},"Your vote!"),r.a.createElement("p",null,"Would you rather ",t.optionTwo.text,"?"),r.a.createElement(ie.a,{now:u,label:"".concat(u,"%")}),c," out of ",i))):null)}}]),a}(n.Component);var ue=Object(m.connect)((function(e,t){var a=e.authedUser,n=e.users,r=e.questions,o=t.match.params.question_id;return{question:r?r[o]:null,authedUser:a,users:n}}))(le),me=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"bold-purple"},"PAGE NOT FOUND"),r.a.createElement("p",{className:"bold-purple"},"Incorrect URL: ",this.props.userPath),r.a.createElement("p",null,"Possible reasons why you got this page:"),r.a.createElement("p",null,"1. You typed the wrong URL on purpose"),r.a.createElement("p",null,"2. The question id is correct, but the category is wrong. ",r.a.createElement("br",null),'Try "/questions/:question_id" instead of "results/:question_id" or vice versa'))}}]),a}(n.Component);var de=Object(m.connect)((function(e){return{userPath:e.userPath}}))(me),pe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).redirect=function(){var t="/home",a=e.props,n=a.userpath,r=a.questions,o=a.authedUser,s=a.users,c=s?s[o]:null;if(n){if(["/home","/add","/leaderboard"].includes(n))t=n;else{t="404_page_not_found";var i=n.search("questions");if(i>-1){var l=n.substr(i+10).trim();if(r?r[l]:null)c.answers.hasOwnProperty(l)||(t=n)}var u=n.search("results");if(u>-1){var m=n.substr(u+8).trim();if(r?r[m]:null)c.answers.hasOwnProperty(m)&&(t=n)}}}return t},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(W.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(T.LoadingBar,null),r.a.createElement("div",{className:"main-container inner-shadow"},r.a.createElement("div",{className:"header-container"},r.a.createElement(G,null)),r.a.createElement(oe,null),r.a.createElement(V.d,null,r.a.createElement(V.b,{path:"/home",exact:!0,component:K}),r.a.createElement(V.b,{path:"/add",exact:!0,component:Z}),r.a.createElement(V.b,{path:"/leaderboard",exact:!0,component:te}),r.a.createElement(V.b,{path:"/questions/:question_id",component:ce}),r.a.createElement(V.b,{path:"/results/:question_id",component:ue}),r.a.createElement(V.b,{path:"/404_page_not_found",component:de}),r.a.createElement(V.a,{to:this.redirect()})))))}}]),a}(n.Component);var he=Object(m.connect)((function(e){return{userpath:e.userPath,questions:e.questions,authedUser:e.authedUser,users:e.users}}))(pe),ve=a(58),be=a.n(ve),fe=a(88),Ee=a(44),Oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).handleSelected=function(t,a){e.props.dispatch(R(t));var n=e.props.userpath;return r.a.createElement(V.a,{to:n})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,"Please Sign in"),r.a.createElement("img",{src:be.a,className:"App-logo",alt:"logo"}),r.a.createElement(fe.a,{id:"dropdown-basic-button",title:"Sign in"},this.props.userIds.map((function(t){return r.a.createElement(Ee.a.Item,{onSelect:e.handleSelected,eventKey:t,key:t},r.a.createElement("img",{className:"select-avatar",src:e.props.users[t].avatarURL,alt:e.props.users[t].name}),e.props.users[t].name)}))),r.a.createElement("br",null),r.a.createElement(W.b,{to:"/adduser"},"Create new user"))}}]),a}(n.Component);var je=Object(m.connect)((function(e){var t=e.users,a=e.userPath;return{userIds:Object.keys(t),users:t,userpath:a}}))(Oe),ge=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={firstname:"",lastname:"",userid:"",avatarurl:"",disabled:!0},e.handleSubmit=function(t){if(e.props.users[e.state.userid])alert("User name already taken.  Try again."),t.preventDefault(),e.setState({userid:""},(function(){return e.isDisabled()})),document.getElementById("userid").value="";else{var a=e.getUserObject();e.props.dispatch(D(a)),e.props.dispatch(A()),e.props.dispatch(R(a.id))}},e.handleClick=function(t){var a=t.target.id;e.setState({avatarurl:a},(function(){return e.isDisabled()}))},e.handleChange=function(t){var a=t.target.id,n=t.target.value;e.setState(Object(p.a)({},a,n),(function(){return e.isDisabled()}))},e.isDisabled=function(){e.state.firstname.length>0&&e.state.lastname.length>0&&e.state.userid.length>0&&e.state.avatarurl.length>0?e.setState((function(){return{disabled:!1}})):e.setState((function(){return{disabled:!0}}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(_())}},{key:"getUserObject",value:function(){var e=this.state,t=e.firstname,a=e.lastname,n=e.userid,r=e.avatarurl;return{id:n,name:"".concat(t," ").concat(a),avatarURL:r,answers:{},questions:[]}}},{key:"render",value:function(){var e=this,t=this.props.avatars.urls;return r.a.createElement("div",{className:"newUser-container"},r.a.createElement("p",{className:"bold-purple"},"Create new user"),r.a.createElement($.a.Group,null,r.a.createElement($.a.Control,{id:"firstname",type:"input",placeholder:"First name",onChange:this.handleChange})),r.a.createElement($.a.Group,null,r.a.createElement($.a.Control,{id:"lastname",type:"input",placeholder:"Last name",onChange:this.handleChange})),r.a.createElement($.a.Group,null,r.a.createElement($.a.Control,{id:"userid",type:"input",placeholder:"Username",onChange:this.handleChange}),r.a.createElement($.a.Text,{className:"text-muted"},"Unique username")),r.a.createElement("div",{className:"avatar-container"},t&&t.map((function(t,a){return r.a.createElement("div",{className:"avatar-item",key:a},r.a.createElement("button",{className:"btn"},r.a.createElement("img",{id:t,className:"img-avatar",src:t,onClick:e.handleClick,alt:"avatar icon"})))}))),r.a.createElement("div",{className:"new-user-btn"},r.a.createElement(W.b,{to:"/",onClick:this.handleSubmit,className:"not-allowed"},r.a.createElement(M.a,{className:"not-allowed",variant:"primary",type:"button",block:!0,disabled:this.state.disabled},"Create new user & Sign in"))))}}]),a}(n.Component);var ye=Object(m.connect)((function(e){return{avatars:e.avatars,users:e.users}}))(ge),we=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){var t=e.props.location.pathname;e.props.dispatch(P(t))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"bold-purple"},"Please Log In"),r.a.createElement("p",null,"You must be signed in to view the requested page"),r.a.createElement("p",null,"Take me to the ",r.a.createElement(W.b,{to:"/",onClick:this.handleClick},"SignIn")," page"))}}]),a}(n.Component);var qe=Object(m.connect)((function(e){return{authedUser:e.authedUser}}))(we),Ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(W.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(T.LoadingBar,null),r.a.createElement("div",{className:"main-container inner-shadow"},r.a.createElement("div",{className:"header-container"},r.a.createElement("p",null,"Welcome to the"),r.a.createElement(G,null)),r.a.createElement(V.d,null,r.a.createElement(V.b,{path:"/",exact:!0,component:je}),r.a.createElement(V.b,{path:"/adduser",exact:!0,component:ye}),r.a.createElement(V.b,{path:"/",component:qe})))))}}]),a}(n.Component);var ke=Object(m.connect)((function(e){return{authedUser:e.authedUser}}))(Ne),Ue=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(x())}},{key:"render",value:function(){return r.a.createElement(W.a,null,r.a.createElement("div",null,this.props.loggedin?r.a.createElement(he,null):r.a.createElement(V.b,{path:"/",component:ke})))}}]),a}(n.Component);var Se=Object(m.connect)((function(e){var t=e.authedUser;return e.questions,{loggedin:null!==t}}))(Ue),Ce=a(24);var Te=Object(Ce.c)({authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHED_USER":return t.id;case"LOGOUT":return null;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_USERS":return Object(h.a)(Object(h.a)({},e),t.users);case"SAVE_USER_ANSWER":return Object(h.a)(Object(h.a)({},e),{},Object(p.a)({},t.authedUser,Object(h.a)(Object(h.a)({},e[t.authedUser]),{},{answers:Object(h.a)(Object(h.a)({},e[t.authedUser].answers),{},Object(p.a)({},t.qid,t.answer))})));case"NEW_USER":return Object(h.a)(Object(h.a)({},e),{},Object(p.a)({},t.user.id,t.user));case"NEW_QUESTION":var a=t.question;return Object(h.a)(Object(h.a)({},e),{},Object(p.a)({},a.author,Object(h.a)(Object(h.a)({},e[a.author]),{},{questions:e[a.author].questions.concat([a.id])})));default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_QUESTIONS":return Object(h.a)(Object(h.a)({},e),t.questions);case"SAVE_ANSWER":return Object(h.a)(Object(h.a)({},e),{},Object(p.a)({},t.qid,Object(h.a)(Object(h.a)({},e[t.qid]),{},Object(p.a)({},t.answer,Object(h.a)(Object(h.a)(Object(h.a)({},e[t.answer]),{},{votes:e[t.qid][t.answer].votes.concat([t.authedUser])},e[t.answer]),{},{text:e[t.qid][t.answer].text})))));case"ADD_QUESTION":return Object(h.a)(Object(h.a)({},e),{},Object(p.a)({},t.question.id,t.question));default:return e}},avatars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_AVATARS":return Object(h.a)(Object(h.a)({},e),t.avatars);default:return e}},userPath:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PATH":return t.path;default:return e}},loadingBar:T.loadingBarReducer}),xe=a(64),Ae=function(e){return function(t){return function(a){console.group(a.type),console.log("Action: ",a);var n=t(a);return console.log("New State: ",e.getState()),console.groupEnd(),n}}},_e=Object(Ce.a)(xe.a,Ae),Re=Object(Ce.d)(Te,_e);s.a.render(r.a.createElement(m.Provider,{store:Re},r.a.createElement(Se,null)),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.721ae689.chunk.js.map